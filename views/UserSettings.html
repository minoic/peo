
<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <title>{{.webApplicationName}} ç”¨æˆ·æ§åˆ¶å°</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {{template "tpls/perfectCSS.html" .}}
</head>

<body class="overflow-hidden">
{{template "tpls/navbar.html" .}}
<div id="overlay" class="transparent"></div>
<div id="wrapper" class="preload sidebar-mini">
    {{template "tpls/sidebar.html" .}}
    <!-- main-container -->
    <div id="main-container">
        <div class="padding-md">
            <div class="row">
                <div class="col-md-6">
                    <div class="panel panel-default fadeInDown animation-delay1">
                        <form class="form-horizontal form-border no-margin" id="basic-constraint" data-validate="parsley" novalidate="" method="post" action="/user-settings/change-password">
                            <div class="panel-heading">
                                ä¿®æ”¹å¯†ç 
                            </div>
                            <div class="panel-body">
                                {{.xsrfData}}
                                <div class="form-group">
                                    <label class="control-label col-lg-3">æ—§å¯†ç </label>
                                    <div class="col-lg-8">
                                        <input type="password" class="form-control input-sm parsley-validated" placeholder="è¾“å…¥æ‚¨è´¦å·åŸæ¥çš„å¯†ç " name="oldPassword">
                                    </div><!-- /.col -->
                                </div><!-- /form-group -->
                                <div class="form-group">
                                    <label class="control-label col-lg-3">æ–°å¯†ç </label>
                                    <div class="col-lg-8">
                                        <input type="password" placeholder="è¾“å…¥æ–°å¯†ç " class="form-control input-sm" name="newPassword">
                                        <div class="seperator"></div>
                                        <input type="password" placeholder="ç¡®è®¤æ–°å¯†ç " class="form-control input-sm" name="confirmPassword">
                                    </div><!-- /.col -->
                                </div><!-- /form-group -->
                            </div>
                            {{if .hasError}}
                                <div class="alert alert-danger">
                                    <strong>ä¿®æ”¹å¤±è´¥ï¼</strong> {{.hasErrorText}}
                                </div>
                            {{end}}
                            <div class="panel-footer">
                                <button type="submit" class="btn btn-info">ç¡®è®¤ä¿®æ”¹</button>
                            </div>
                        </form>
                    </div><!-- /panel -->
                    <div class="panel panel-default fadeInDown animation-delay2">
                        <form class="form-horizontal no-margin" data-validate="parsley" novalidate="">
                            <div class="panel-heading">
                                ç¿¼é¾™é¢æ¿ç”¨æˆ·<br>
                                <small class="text-muted">
                                    å¦‚æœæ³¨å†Œæ—¶æ²¡æœ‰åˆ›å»ºæˆåŠŸï¼Œæ‚¨éœ€è¦æ‰‹åŠ¨ç‚¹å‡»åˆ›å»ºæŒ‰é’®ï¼Œåˆ›å»ºæˆåŠŸåæ‰å¯ä»¥è´­ä¹°æœåŠ¡å™¨ï¼<br>
                                    æ‚¨ä¸éœ€è¦æ‰‹åŠ¨è¾“å…¥ç”¨æˆ·ä¿¡æ¯ï¼Œæˆ‘ä»¬ä¼šå¸®æ‚¨ä½¿ç”¨æ³¨å†Œæ—¶è¾“å…¥çš„ä¿¡æ¯è‡ªåŠ¨åˆ›å»ºï¼
                                </small>
                            </div>
                            <div class="panel-body">
                                <div class="form-group">
                                    <label class="control-label col-lg-3">UUID</label>
                                    <div class="col-lg-8">
                                        <input type="text" placeholder="{{.pteUserUUID}}" class="form-control input-sm" name="newPassword" disabled>
                                    </div><!-- /.col -->
                                </div><!-- /form-group -->
                                <div class="form-group">
                                    <label class="control-label col-lg-3">ç”¨æˆ·å</label>
                                    <div class="col-lg-8">
                                        <input type="text" placeholder="{{.pteUserName}}" class="form-control input-sm" name="newPassword" disabled>
                                    </div><!-- /.col -->
                                </div><!-- /form-group -->
                                <div class="form-group">
                                    <label class="control-label col-lg-3">é‚®ç®±</label>
                                    <div class="col-lg-8">
                                        <input type="password" placeholder="{{.pteUserEmail}}" class="form-control input-sm" name="newPassword" disabled>
                                    </div><!-- /.col -->
                                </div><!-- /form-group -->
                                <div class="form-group">
                                    <label class="control-label col-lg-3">ä¸¤æ­¥éªŒè¯</label>
                                    <div class="col-lg-8">
                                        <input type="text" placeholder="{{if .pteUser2FA}}å·²å¼€å¯{{else}}æœªå¼€å¯{{end}}" class="form-control input-sm" name="newPassword" disabled>
                                    </div><!-- /.col -->
                                </div><!-- /form-group -->
                                <div class="form-group">
                                    <label class="control-label col-lg-3">åˆ›å»ºæ—¥æœŸ</label>
                                    <div class="col-lg-8">
                                        <input type="text" placeholder="{{.pteUserCreatedAt}}" class="form-control input-sm" name="newPassword" disabled>
                                    </div><!-- /.col -->
                                </div><!-- /form-group -->
                            </div>
                            <div class="panel-footer" >
                                <button type="button" class="btn btn-info" onclick="$.get('{{.pteUserCreateURL}}',
                                        function(data) {
                                        if (data==='SUCCESS')
                                        {alert('åˆ›å»ºæˆåŠŸï¼');parent.location.reload();}
                                        else {alert('åˆ›å»ºå¤±è´¥ï¼');}
                                        parent.location.reload();
                                        })
                                " {{if .userCreated}}disabled{{end}}>{{if .userCreated}}å·²åˆ›å»º{{else}}åˆ›å»ºç¿¼é¾™é¢æ¿ç”¨æˆ·{{end}}</button>
                            </div>
                        </form>
                    </div><!-- /panel -->
                </div><!-- /.col-->
                <div class="col-md-6">
                    <div class="panel panel-default fadeInDown animation-delay3">
                        <form class="form-horizontal form-border no-margin" id="type-constraint" data-validate="parsley" novalidate="" method="post" action="/user-settings/change-email">
                            <div class="panel-heading">
                                ä¿®æ”¹ç»‘å®šé‚®ç®±
                            </div>
                            <div class="panel-body">
                                {{.xsrfData}}
                                <div>
                                    <label class="control-label col-lg-3">æ–°é‚®ç®±</label>
                                    <div class="col-lg-8 input-group">
                                        <input id="email" name="email" type="text" class="form-control" placeholder="è¾“å…¥æ‚¨è¦ä¿®æ”¹çš„æ–°é‚®ç®±">
                                        <span class="input-group-btn">
                                            <button id="send_email" class="btn btn-default tooltip-test" data-toggle="tooltip" data-placement="top" data-original-title="æ¯å…­åç§’åªèƒ½å‘é€ä¸€æ¬¡" type="button" onclick="send()"><small id="cooldown">å‘é€éªŒè¯ç ğŸ‘</small></button>
                                            </span>
                                    </div><!-- /.col -->
                                </div><!-- /form-group -->
                                <script type="text/javascript" async="async">
                                    function send() {
                                        $.get({{.webHostName}}+"/user-settings/change-email/"+$("#email").val());
                                        $("#send_email").attr("disabled","disabled");
                                        var second = 60;
                                        var origin_text = $("#cooldown").text()
                                        var intervalObj = setInterval(
                                            function () {
                                                $("#cooldown").text(origin_text+ "(" + second + ")");
                                                if(second==0){
                                                    $("#cooldown").text(origin_text);
                                                    $("#send_email").removeAttr("disabled")
                                                    clearInterval(intervalObj);
                                                }
                                                second--;
                                            },1000
                                        )
                                    }
                                </script>
                                <div class="form-group">
                                    <label class="control-label col-lg-3">éªŒè¯ç </label>
                                    <div class="col-lg-7">
                                        <input type="text" class="form-control input-sm parsley-validated" placeholder="è¾“å…¥å‘é€åˆ°æ‚¨æ–°é‚®ç®±é‡Œçš„éªŒè¯ç " name="captcha">
                                    </div><!-- /.col -->
                                </div><!-- /form-group -->
                            </div>
                            {{if .hasError2}}
                                <div class="alert alert-danger">
                                    <strong>ä¿®æ”¹å¤±è´¥ï¼</strong> {{.hasErrorText2}}
                                </div>
                            {{end}}
                            <div class="panel-footer">
                                <button type="submit" class="btn btn-info">ç¡®è®¤ä¿®æ”¹</button>
                            </div>
                        </form>
                    </div><!-- /panel -->
                </div><!-- /.col-->
            </div>
        </div>
    </div>
    <!-- /main-container -->
</div><!-- /wrapper -->

<a href="" id="scroll-to-top" class="hidden-print"><i class="fa fa-chevron-up"></i></a>
<!-- Logout confirmation -->

{{template "tpls/perfectJS.html" .}}
<script src='../static/perfect/js/jquery.cookie.min.js'></script>
</body>
</html>
